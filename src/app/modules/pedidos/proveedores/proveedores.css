/* =======================================================================================
   ===== VARIABLES Y LAYOUT BASE =========================================================
   ======================================================================================= */
:root{
  --topbar-h: 97px;
  --side-w: 280px;
  --side-w-collapsed: 92px;
  --acts-w: 168px;
  --primary: #ffffff;
}

.pp-page{
  display:flex; flex-direction:column; gap:9px; padding:13px;
  background:url("/assets/bg-yarns.jpg") center/cover no-repeat fixed;
  min-height:calc(100vh - var(--topbar-h,97px));
}
.pp-page::before{
  content:""; position:fixed; top:var(--topbar-h,97px); left:var(--side-w,280px); right:0; bottom:0;
  background:rgba(255,255,255,.85); z-index:-1;
}
:host-context(.sidebar-collapsed) .pp-page::before{ left:var(--side-w-collapsed,92px); }

.pp-page .head-title h1{
  font-family:"Playfair Display", Georgia, serif;
  font-weight:700; font-size:clamp(24px,3.9vw,36px);
  line-height:1.05; margin:2px 0 0; color:#333;
}

/* =======================================================================================
   ===== CABECERA / ACCIONES =============================================================
   ======================================================================================= */
.pp-page .head{
  display:flex; align-items:center; justify-content:space-between; gap:8px;
  flex-wrap:nowrap; width:100%; margin-bottom:6px;
}
.pp-page .actions{
  margin-left:auto; display:flex; align-items:center; gap:6px;
  flex-wrap:nowrap; white-space:nowrap;
}

/* =======================================================================================
   ===== BUSCADOR (GENÉRICO) =============================================================
   ======================================================================================= */
.pp-page .search{
  display:flex; align-items:center; gap:8px;
  background:#fff; border:1px solid #ddd; border-radius:8px;
  padding:5px 10px; box-shadow:0 1px 4px rgba(0,0,0,.05); transition:.15s ease;
  flex:1 1 360px; min-width:240px; max-width:640px;
  height:32px;
}
.pp-page .search:focus-within{ border-color:var(--primary); box-shadow:0 0 0 2px rgba(122,46,168,.10); }
.pp-page .search input{ border:0; outline:0; background:transparent; width:100%; font-size:12.5px; min-width:190px; }
.pp-page .search .material-icons{ font-size:18px; color:#777; line-height:1; display:inline-block; }

/* =======================================================================================
   ===== SEGMENTADO (TABS) ===============================================================
   ======================================================================================= */
.pp-page .segmented{
  display:inline-flex; align-items:center; gap:0;
  padding:3px; border:1px solid #ddd; border-radius:10px;
  background:#ffffff; box-shadow:0 1px 4px rgba(101, 21, 21, 0.05);
  flex:0 0 auto; height:33px;
}
.pp-page .segmented .seg{
  appearance:none; border:0; background:#ffffff;
  display:inline-flex; align-items:center; gap:6px;
  padding:5px 10px; height:30px; border-radius:8px;
  font-size:12px; font-weight:600; color:#333; cursor:pointer; transition:.15s ease;
}
.pp-page .segmented .seg:hover{ background:#f7f2ff; }
.pp-page .segmented .seg.active{
  background:#7a2ea8; color:#ffffff;
  box-shadow:0 2px 8px rgba(122,46,168,.18) inset, 0 2px 8px rgba(122,46,168,.12);
}
.pp-page .segmented .seg.danger:hover{ background:#fff2f3; }
.pp-page .segmented .seg.danger.active{
  background:#b4232b; color:#fff; box-shadow:0 2px 8px rgba(180,35,43,.18) inset;
}
.pp-page .segmented .seg:focus-visible{
  outline:2px solid transparent; box-shadow:0 0 0 2px rgba(122,46,168,.28);
}
.pp-page .segmented .seg-badge{
  display:inline-flex; align-items:center; justify-content:center;
  min-width:18px; height:18px; padding:0 6px; border-radius:999px;
  font-size:10.5px; font-weight:700; background:#efe9ff; color:#5b38d5; border:1px solid #dbc8ff; line-height:1;
}
.pp-page .segmented .seg.active .seg-badge{ background:#fff; color:var(--primary); border-color:transparent; }
.pp-page .segmented .seg.danger.active .seg-badge{ background:#fff; color:#b4232b; }

.pp-page .segmented .seg .seg-badge{
  color:#5b38d5;
}

/* Cuando la pestaña está activa, fuerza el morado del número */
.pp-page .segmented .seg.active .seg-badge{
  background:#fff;
  color:var(--primary, #7a2ea8) !important;
  border-color:transparent;
}

/* Si dentro del badge hay otro span/i, hereda el morado */
.pp-page .segmented .seg.active .seg-badge *{
  color:inherit !important;
}
/* =======================================================================================
   ===== BOTONES =========================================================================
   ======================================================================================= */
.pp-page button.primary, .pp-page button.ghost{
  display:inline-flex; align-items:center; gap:7px; padding:5px 10px; height:40px;
  border-radius:8px; font-size:12px; font-weight:600; cursor:pointer; transition:.15s ease;
}
.pp-page button.primary{ border:0; background:#6b2f99; color:#fff; box-shadow:0 3px 7px rgba(122,46,168,.14); }
.pp-page button.primary:hover{ filter:brightness(.97); }
.pp-page button.ghost{ background:#fff; border:1px solid #ddd; color:#333; }
.pp-page button.ghost:hover{ background:#f7f7f7; }
.pp-page button.ghost.small{ padding:4px 8px; height:26px; font-size:11.5px; }

.pp-page button.icon{
  border:0; background:#f6f3f7; color:#6b2f99; border-radius:7px;
  padding:3px; cursor:pointer; display:inline-flex; align-items:center; justify-content:center; transition:.15s ease;
  min-width:26px; min-height:26px;
}
.pp-page button.icon:hover{ background:#ede8ef; transform:translateY(-1px); }
.pp-page button.icon .material-icons{ font-size:17px; }
.pp-page button.icon.danger{ background:#fde9eb; color:#b4232b; }
.pp-page button.icon.primary{ background:var(--primary); color:#fff; }
.pp-page .spinning{ animation: spin 1s linear infinite; }

/* === Botones del modal (mismo look que en .pp-page) === */
.modal-foot button.primary{
  display:inline-flex; align-items:center; gap:7px; padding:5px 10px; height:40px;
  border-radius:8px; font-size:12px; font-weight:600; cursor:pointer; transition:.15s ease;
  border:0; background:#6b2f99; color:#fff; box-shadow:0 3px 7px rgba(122,46,168,.14);
}
.modal-foot button.primary:hover:not(:disabled){ filter:brightness(.97); }

.modal-foot button.ghost{
  display:inline-flex; align-items:center; gap:7px; padding:5px 10px; height:40px;
  border-radius:8px; font-size:12px; font-weight:600; cursor:pointer; transition:.15s ease;
  background:#fff; border:1px solid #ddd; color:#333;
}
.modal-foot button.ghost:hover:not(:disabled){ background:#f7f7f7; }

.modal-foot button:disabled{
  opacity:.6; cursor:not-allowed; box-shadow:none; filter:none;
}

.modal-foot button:focus-visible{
  outline:2px solid rgba(107,47,153,.30);
  outline-offset:2px;
}

/* separa un poco el icono spinner del texto */
.modal-foot .spinning{ margin-right:6px; }


/* === Acciones en cabecera del modal (Nuevo producto / Cerrar) === */
.modal-head .modal-actions{ display:flex; align-items:center; gap:6px; }

/* Botón "Nuevo producto" (ghost small) */
.modal-actions button.ghost{
  display:inline-flex; align-items:center; gap:7px;
  padding:4px 10px; height:32px;                 /* compacto */
  border-radius:8px; font-size:12px; font-weight:600;
  background:#fff; border:1px solid #ddd; color:#333;
  transition:.15s ease; cursor:pointer;
}
.modal-actions button.ghost:hover:not(:disabled){ background:#f7f7f7; }
.modal-actions button.ghost:disabled{ opacity:.6; cursor:not-allowed; }
.modal-actions button.ghost .material-icons{ font-size:18px; line-height:1; color:#6b2f99; }

/* Botón de cierre (X) — icon squircle como los demás */
.modal-actions button.icon{
  border:0; background:#f6f3f7; color:#6b2f99;
  width:36px; height:36px; min-width:36px; min-height:36px;
  border-radius:10px; display:inline-flex; align-items:center; justify-content:center;
  transition:transform .15s ease, background-color .15s ease, box-shadow .15s ease, filter .15s ease;
}
.modal-actions button.icon:hover{ background:#ede8ef; transform:translateY(-1px); box-shadow:0 3px 10px rgba(107,47,153,.12); }
.modal-actions button.icon:active{ transform:translateY(0) scale(.98); filter:brightness(.98); }
.modal-actions button.icon .material-icons{ font-size:20px; line-height:1; }
.modal-actions button.icon:focus-visible{ outline:2px solid rgba(107,47,153,.30); outline-offset:2px; }

/* =======================================================================================
   ===== TARJETAS / CONTENEDORES =========================================================
   ======================================================================================= */
.pp-page .card{
  background:#fff; border:1px solid #eee; border-radius:10px; padding:8px;
  box-shadow:0 5px 12px rgba(0,0,0,.045); position:relative; overflow:hidden;
}
.pp-page .card::before{
  content:""; position:absolute; top:0; bottom:0; left:-1px; width:5px;
  background:#7419ad; opacity:.95; pointer-events:none;
}

/* =======================================================================================
   ====== TABLAS =========================================================================
   ======================================================================================= */
.pp-page .table-wrapper{ overflow:auto; scrollbar-gutter:stable; }
.pp-page table.grid{
  width:100%; border-collapse:separate; border-spacing:0; table-layout:auto; min-width:920px; font-size:12.5px;
}
.pp-page .grid thead th{
  text-align:left; font-weight:700; font-size:12px; color:#494444;
  padding:6px 8px; border-bottom:2px solid #eee; background:#fafafa; position:sticky; top:0; z-index:1;
}
.pp-page .grid thead th.acts-col{
  text-align:center !important; padding-left:0; padding-right:0;
  display:flex; align-items:center; justify-content:center;
}
.pp-page .grid thead th:last-child{ text-align:center; }
.pp-page .grid thead th.mono{ text-align:right; }

.pp-page .grid tbody td{
  padding:6px 8px; border-bottom:1px solid #f3f3f6; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; vertical-align:middle;
}
.pp-page .grid tbody tr:hover{ background:#fbf7ff; }
.pp-page .mono{ font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace; color:#565656; text-align:right; }
.pp-page .strong{ font-weight:700; color:#333; }
.pp-page .small{ font-size:12px; color:#777; }
.pp-page .unit{ font-size:12px; color:#888; }

.pp-page .acts-col{ width:var(--acts-w); text-align:center; }
.pp-page .grid tbody td:last-child{ width:var(--acts-w); }
.pp-page .acts{ display:flex; align-items:center; justify-content:center; gap:6px; }
.pp-page .no-actions{ color:#aaa; }

/* Estados */
.pp-page .grid tbody tr.row-cerrado{ box-shadow:inset 4px 0 0 #64748b1f; background:#f8fafc; }
.pp-page .grid tbody tr.row-cancelado{ box-shadow:inset 4px 0 0 #b4232b33; background:#fff6f7; }

/* Vacío */
.pp-page .empty{ text-align:center; color:#8a8a8a; padding:14px; display:flex; flex-direction:column; gap:6px; align-items:center; }
.pp-page .empty .material-icons{ color:#d5d5d5; font-size:23px; }

/* Pills */
.pp-page .pill{ display:inline-block; padding:3px 7px; border-radius:999px; font-size:11.5px; border:1px solid transparent; text-transform:capitalize; font-weight:700; letter-spacing:.2px; }
.pp-page .pill.borrador{ background:#f7f7f7; color:#666; border-color:#eee; }
.pp-page .pill.enviado{ background:#fff6e5; color:#a56900; border-color:#ffe0a8; }
.pp-page .pill.aprobado{ background:#eaf7ef; color:#2e7d32; border-color:#cdecd6; }
.pp-page .pill.parcial{ background:#eaf3ff; color:#1e5bb8; border-color:#cfe3ff; }
.pp-page .pill.cerrado{ background:#edf2f7; color:#3a4956; border-color:#dae2ea; }
.pp-page .pill.cancelado{ background:#fde9eb; color:#b4232b; border-color:#f6c7cd; }

/* =======================================================================================
   ===== FORMULARIOS / INPUTS ============================================================
   ======================================================================================= */
.form-row{ display:grid; gap:6px; grid-template-columns: 280px 1fr 260px; margin-bottom:6px; }
.form-row.quick{ grid-template-columns: 1fr 1fr 1fr; }
.form-row.reception{ grid-template-columns: 1fr 1fr 1fr; }
.form-row .span-2{ grid-column: span 2; }
label{ display:flex; flex-direction:column; gap:6px; font-size:12.5px; color:#1b1a1a; font-weight:600; min-width:0; }
input, select{
  height:34px; border-radius:7px; border:1px solid #e5e5e5; background:#fff; padding:0 8px; outline:none; width:80%; font-size:12.5px; transition:.12s ease;
}
input:focus, select:focus{ border-color:var(--primary); box-shadow:0 0 0 2px rgba(122,46,168,.10); }
input:disabled, select:disabled{ background:#f6f6f6; color:#aaa; cursor:not-allowed; }

.price-input, .qty-input{ font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace; text-align:right; }

/* Stepper de cantidad */
.qty-stepper{
  display:inline-flex; align-items:center; gap:6px; background:#fff; border:1px solid #e5e5e5; border-radius:10px; padding:4px;
}
.qty-stepper .step{
  width:28px; height:28px; border:0; border-radius:8px; cursor:pointer; background:#f6f3f7; color:#6b2f99; font-weight:800; font-size:16px; line-height:28px;
}
.qty-stepper .step:active{ transform:translateY(1px); }
.qty-stepper .qty-input{
  width:70px; height:28px; border:0; outline:0; text-align:right; background:transparent; font-size:12.5px;
}

/* =======================================================================================
   ===== CATÁLOGO DEL PROVEEDOR (header + tabla) ========================================
   ======================================================================================= */
.catalog-head{
  display:grid; grid-template-columns: 1fr minmax(280px, 360px); align-items:center; gap:10px;
  margin:8px 0 0;
  padding:10px;
  background:linear-gradient(180deg,#ffffff 0%, #faf8ff 100%);
  border:1px solid #eee; border-radius:12px 12px 0 0;
  box-shadow:0 4px 10px rgba(16,18,28,.04);
}
.catalog-head h3{ margin:0; font-size:14px; font-weight:800; color:#312c3a; }
.catalog-head .search{
  width:100%;
  display:flex; align-items:center; gap:8px;
  height:32px; /* consistente */
}
.catalog-head .search input{ min-width:0; } /* evita saltos por min-width global */

.catalog-section{
  border:1px solid #eee; border-top:0; border-radius:0 0 12px 12px;
  padding:10px; background:#fff;
  box-shadow:0 10px 24px rgba(16,18,28,.06);
}

/* Columnas del catálogo: alineación exacta bajo los headers */
.catalog-table{ min-width: 920px; width:100%; }
.catalog-table thead th:nth-child(1){ min-width:260px; text-align:left; }
.catalog-table thead th:nth-child(2){ width:140px; text-align:right; }
.catalog-table thead th:nth-child(3){ width:180px; text-align:center; }
.catalog-table thead th:nth-child(4){ width:120px; text-align:center; }
.catalog-table td:nth-child(2){ text-align:right; }
.catalog-table td:nth-child(3){ text-align:center; }
.catalog-table td:nth-child(4){ text-align:center; }

/* Botón Agregar (catálogo) — mismo look/animación que acciones */
.catalog-table button.icon.primary{
  display:inline-flex; align-items:center; justify-content:center;
  width:36px; height:36px;            /* tamaño consistente */
  min-width:36px; min-height:36px;
  border-radius:10px;
  margin:2px auto;                    /* centra y da respiro vertical */
  background:#6b2f99;                 /* morado consistente */
  color:#fff;
  box-shadow:0 3px 10px rgba(107,47,153,.22);
  transition:
    transform .15s ease,
    box-shadow .15s ease,
    filter .15s ease,
    background-color .15s ease,
    color .15s ease;
  will-change: transform;
}

.catalog-table button.icon.primary:hover:not(:disabled){
  transform:translateY(-2px) scale(1.02);
  box-shadow:0 6px 16px rgba(107,47,153,.30);
  filter:brightness(.98);
}

.catalog-table button.icon.primary:active{
  transform:translateY(0) scale(.98);
  filter:brightness(.96);
}

.catalog-table button.icon.primary:focus-visible{
  outline:2px solid rgba(107,47,153,.35);
  outline-offset:2px;
}

.catalog-table button.icon.primary:disabled{
  background:#eee !important;
  color:#9aa0a6 !important;
  box-shadow:none !important;
  transform:none !important;
  cursor:not-allowed;
}

/* Ícono con “pop” suave al hover */
.catalog-table button.icon.primary .material-icons{
  font-size:20px; line-height:1;
  transition:transform .15s ease;
}
.catalog-table button.icon.primary:hover:not(:disabled) .material-icons{
  transform:scale(1.08);
}

/* Alineación/espaciado de celdas para que se vea proporcionado */
.catalog-table td{
  padding:6px 8px; 
  vertical-align:middle;
  white-space:nowrap;
}

/* Respeta usuarios con “reducir movimiento” */
@media (prefers-reduced-motion: reduce){
  .catalog-table button.icon.primary,
  .catalog-table button.icon.primary .material-icons{
    transition:none !important;
  }
}

/* ========================= RECEPCIÓN (modal) ========================= */

/* Info superior (fecha, número, forma de pago) */
.reception-info .form-row.reception{
  grid-template-columns: 1fr 1fr 1fr;   /* 3 columnas parejas */
  margin-bottom:10px;
}

/* Título y tarjeta contenedora */
.reception-details h3{
  margin:8px 0 6px;
  font-size:16px; font-weight:800; color:#1e1b2e;
}
.reception-details .card{
  padding:10px; border-radius:12px;
  border:1px solid #eee; background:#fff;
  box-shadow:0 10px 24px rgba(16,18,28,.06);
}

/* La tabla de recepción: alineada y con header pegajoso */
.modal .table-wrapper{ overflow:auto; scrollbar-gutter:stable; }

.reception-table{
  width:100%;
  min-width:980px;                  /* un poquito más ancha que las otras */
  table-layout:fixed;
  border-collapse:separate; border-spacing:0;
  font-size:12.5px;
}
.reception-table thead th{
  position:sticky; top:0; z-index:1;
  background:#faf8ff;
  border-bottom:2px solid #eee;
  padding:6px 10px;
  font-weight:700; color:#494444;
}

/* Anchos y alineaciones por columna */
.reception-table thead th:nth-child(1){ min-width:240px; text-align:left; }  /* Producto */
.reception-table thead th:nth-child(2){ min-width:150px; text-align:left; }  /* Presentación */
.reception-table thead th:nth-child(3),
.reception-table thead th:nth-child(4),
.reception-table thead th:nth-child(5),
.reception-table thead th:nth-child(7),
.reception-table thead th:nth-child(8){ text-align:right; }
.reception-table thead th:nth-child(6){ text-align:center; }                 /* Recibir ahora */

.reception-table tbody td{
  padding:8px 10px;
  border-bottom:1px solid #f3f3f6;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
  vertical-align:middle;
}
.reception-table tbody td:nth-child(3),
.reception-table tbody td:nth-child(4),
.reception-table tbody td:nth-child(5),
.reception-table tbody td:nth-child(7),
.reception-table tbody td:nth-child(8){ text-align:right; }
.reception-table tbody td:nth-child(6){ text-align:center; }

/* Input "Recibir ahora" consistente con el resto */
.reception-table .qty-input{
  width:84px; height:28px;
  border:1px solid #e5e5e5; border-radius:7px; background:#fff;
  padding:0 8px; font-size:12.5px;
  font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;
  text-align:center; transition:.12s ease;
}
.reception-table .qty-input:focus{
  border-color:var(--primary);
  box-shadow:0 0 0 2px rgba(122,46,168,.10);
}
.reception-table .qty-input::-webkit-outer-spin-button,
.reception-table .qty-input::-webkit-inner-spin-button{ -webkit-appearance:none; margin:0; }
/* === Qty input (number) — apariencia consistente y sin spinners === */
.reception-table .qty-input[type="number"]{
  /* Vendor primero, estándar al final (orden correcto) */
  -moz-appearance: textfield;   /* Firefox */
  appearance: textfield;        /* Estándar: Chrome 84+, Edge 84+, Safari 15.4+ ... */

  /* (Opcional) tus estilos comunes */
  height: 28px;
  padding: 0 8px;
  border: 1px solid #dcd6ea;
  border-radius: 8px;
  background: #fff;
  box-shadow: inset 0 1px 2px rgba(0,0,0,.06);
}

/* Ocultar spinners en Chrome/Edge/Safari (WebKit/Blink) */
.reception-table .qty-input[type="number"]::-webkit-outer-spin-button,
.reception-table .qty-input[type="number"]::-webkit-inner-spin-button{
  -webkit-appearance: none;
  margin: 0;
}

/* Totales de recepción: reutiliza .totals + ajuste de margen */
.reception-totals{
  margin:12px 16px 4px auto;         /* a la derecha y separado del borde */
}
.reception-totals .total-strong{
  color:#6b2f99; font-weight:800;
}

/* Modo reducido de movimiento */
@media (prefers-reduced-motion: reduce){
  .reception-table .qty-input{ transition:none; }
}

/* Botón Cerrar (X) en el header del modal */
.modal-head > button.icon.close{
  border:0;
  width:36px; height:36px; min-width:36px; min-height:36px;
  background:#f6f3f7; color:#6b2f99;
  border-radius:10px;
  display:inline-flex; align-items:center; justify-content:center;
  transition:
    transform .15s ease,
    background-color .15s ease,
    box-shadow .15s ease,
    filter .15s ease;
}

.modal-head > button.icon.close .material-icons{
  font-size:20px; line-height:1;
}

.modal-head > button.icon.close:hover{
  background:#ede8ef;
  transform:translateY(-1px);
  box-shadow:0 3px 10px rgba(107,47,153,.12);
}

.modal-head > button.icon.close:active{
  transform:translateY(0) scale(.98);
  filter:brightness(.98);
}

.modal-head > button.icon.close:focus-visible{
  outline:2px solid rgba(107,47,153,.30);
  outline-offset:2px;
}


/* =======================================================================================
   ===== DETALLE DE LA COTIZACIÓN (debajo del catálogo) — armonizado =====================
   ======================================================================================= */


.order-details > .sub{
  margin:0 0 8px; padding:8px 10px;
  background:linear-gradient(180deg,#ffffff 0%, #f6f1ff 100%);
  border:1px solid #eee; border-radius:9px;
  font-size:13px; font-weight:800; color:#312c3a;
  display:flex; align-items:center; gap:8px;
}

/* ===== Tabla del detalle ===== */
.order-table{
  width:10  0%;
  border-collapse:separate; border-spacing:0;
  min-width:920px;
}

/* Encabezados: mismo tono que el resto de tablas */
.order-table thead th{
  text-align:left; font-weight:700; font-size:12px; color:#494444;
  padding:6px 10px;
  background:#fafafa;
  border-bottom:2px solid #eee;
  position:sticky; top:0; z-index:1;
}

/* Alineaciones y anchos por columna (para que case perfecto con los th) */
.order-table thead th:nth-child(1){ min-width:220px; }
.order-table thead th:nth-child(2){ min-width:160px; }
.order-table thead th:nth-child(3){ width:120px; text-align:center; }
.order-table thead th:nth-child(4){ width:140px; text-align:right; }
.order-table thead th:nth-child(5){ width:140px; text-align:right; }
.order-table thead th:nth-child(6){ width:var(--acts-w); text-align:center; }

.order-table td{
  padding:8px 10px;
  border-bottom:1px solid #f3f3f6;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
  vertical-align:middle;
}
.order-table td:nth-child(3){ text-align:center; }
.order-table td:nth-child(4),
.order-table td:nth-child(5){ text-align:right; }
.order-table td:last-child{ width:var(--acts-w); text-align:center; }

/* Input de cantidad: compacto y homogéneo */
.order-table .qty-input{
  width:90px; height:30px;
  border:1px solid #e5e5e5; border-radius:7px; background:#fff;
  padding:0 8px; outline:none; font-size:12.5px;
  font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;
  text-align:center;
  transition:.12s ease;
}
.order-table .qty-input:focus{
  border-color:var(--primary);
  box-shadow:0 0 0 2px rgba(122,46,168,.10);
}
/* Oculta flechas de number */
.order-table .qty-input::-webkit-outer-spin-button,
.order-table .qty-input::-webkit-inner-spin-button{ -webkit-appearance:none; margin:0; }
/* === Qty input (number) — apariencia consistente y sin spinners === */
.reception-table .qty-input[type="number"]{
  /* Vendor primero, estándar al final (orden correcto) */
  -moz-appearance: textfield;   /* Firefox */
  appearance: textfield;        /* Estándar: Chrome 84+, Edge 84+, Safari 15.4+ ... */

  /* (Opcional) tus estilos comunes */
  height: 28px;
  padding: 0 8px;
  border: 1px solid #dcd6ea;
  border-radius: 8px;
  background: #fff;
  box-shadow: inset 0 1px 2px rgba(0,0,0,.06);
}

/* Ocultar spinners en Chrome/Edge/Safari (WebKit/Blink) */
.reception-table .qty-input[type="number"]::-webkit-outer-spin-button,
.reception-table .qty-input[type="number"]::-webkit-inner-spin-button{
  -webkit-appearance: none;
  margin: 0;
}

/* Estado vacío con estilo suave */
.order-table .empty{
  text-align:center; color:#7c7c7c;
  padding:18px; display:flex; flex-direction:row; align-items:center; gap:8px; justify-content:center;
  background:linear-gradient(180deg,#fff 0%, #faf8ff 100%);
  border:1px dashed #e6e2f3; border-radius:10px; margin:6px 8px;
}
.order-table .empty .material-icons{ color:#d0c7f1; font-size:20px; }

/* Botón de acción en el detalle (incluye hover/animación) */
.order-table td button.icon{
  border:0;
  min-width:36px; min-height:36px;
  border-radius:10px;
  display:inline-flex; align-items:center; justify-content:center;
  transition:
    transform .15s ease,
    box-shadow .15s ease,
    filter .15s ease,
    background-color .15s ease,
    color .15s ease;
  will-change: transform;
}

/* Variante morada (no-danger) */
.order-table td button.icon:not(.danger){
  background:#6b2f99;          /* mismo morado que el resto */
  color:#fff;
  box-shadow:0 3px 10px rgba(107,47,153,.22);
}

/* Variante roja (eliminar) */
.order-table td button.icon.danger{
  background:#fde9eb;
  color:#b4232b;
  border:1px solid #f6c7cd;
  box-shadow:0 3px 10px rgba(180,35,43,.12);
}

/* Hover con elevación suave */
.order-table td button.icon:not(.danger):hover{
  transform:translateY(-2px) scale(1.02);
  box-shadow:0 6px 16px rgba(107,47,153,.30);
  filter:brightness(.98);
}
.order-table td button.icon.danger:hover{
  transform:translateY(-2px) scale(1.02);
  box-shadow:0 6px 16px rgba(180,35,43,.22);
  background:#fde1e5;
}

/* Click/active */
.order-table td button.icon:active{
  transform:translateY(0) scale(.98);
  filter:brightness(.96);
}

/* Accesibilidad (focus ring) */
.order-table td button.icon:focus-visible{
  outline:2px solid rgba(107,47,153,.35);
  outline-offset:2px;
}
.order-table td button.icon.danger:focus-visible{
  outline-color:rgba(180,35,43,.35);
}

/* Ícono: “pop” al pasar el mouse */
.order-table td button.icon .material-icons{
  font-size:20px;
  line-height:1;
  transition:transform .15s ease;
}
.order-table td button.icon:hover .material-icons{
  animation:pop .25s ease;
}

@keyframes pop{
  0%{transform:scale(1)}
  60%{transform:scale(1.15)}
  100%{transform:scale(1)}
}

/* Deshabilitado */
.order-table td button.icon:disabled{
  background:#eee !important;
  color:#9aa0a6 !important;
  box-shadow:none !important;
  transform:none !important;
  cursor:not-allowed;
}

/* Respeta usuarios con “reducir movimiento” */
@media (prefers-reduced-motion: reduce){
  .order-table td button.icon,
  .order-table td button.icon .material-icons{
    transition:none !important;
    animation:none !important;
  }
}

/* =======================================================================================
   ===== Paginación ======================================================================
   ======================================================================================= */
.pp-page .pager{ display:flex; align-items:center; gap:9px; padding:9px; justify-content:flex-end; }
.pp-page .pager .spacer{ flex:1; }

/* =======================================================================================
   ===== MODAL GENERAL ===================================================================
   ======================================================================================= */
.pp-page.modal-open{ overflow:hidden; }
.modal{
  position:fixed; top:var(--topbar-h,97px); left:var(--side-w,280px); right:0; bottom:0;
  display:flex; align-items:flex-start; justify-content:center;
  padding:28px 12px 12px; z-index:10000; background:rgba(46,45,45,.55); backdrop-filter:blur(2px); -webkit-backdrop-filter:blur(2px);
  overflow:auto;
}
:host-context(.sidebar-collapsed) .modal{ left:var(--side-w-collapsed,92px); }
@media (max-width:1024px){ .modal{ top:0; left:0; } }

.modal-card{
  width:min(1200px, calc(100vw - var(--side-w, 280px) - 72px));
  margin:0; background:#fff; border:1px solid #eee; border-radius:12px;
  box-shadow:0 18px 60px rgba(0,0,0,.16); display:flex; flex-direction:column; overflow:hidden; font-size:14px;
  max-height: calc(100vh - var(--topbar-h, 97px) - 72px);
}
.modal-card.small{ width:min(920px,  calc(100vw - var(--side-w, 280px) - 72px)); }
.modal-card.large{ width:min(1400px, calc(100vw - var(--side-w, 280px) - 72px)); }

.modal-head{
  display:flex; align-items:center; justify-content:space-between; padding:8px 10px;
  border-bottom:1px solid #eee; background:linear-gradient(180deg,#ffffff 0%, #faf8fc 100%);
  position:sticky; top:0; z-index:5;
}
.modal-actions{ display:flex; align-items:center; gap:6px; }
.modal-title-wrap{ display:flex; align-items:center; gap:6px; }
.modal-dot{ width:6px; height:6px; border-radius:999px; background:var(--primary); display:inline-block; }

.modal-body{ padding:10px; overflow-y:auto; scrollbar-gutter:stable; }
.modal-foot{
  padding:7px 10px; border-top:1px solid #eee; display:flex; align-items:center; justify-content:space-between; gap:6px; background:#fafafa;
  position:sticky; bottom:0; z-index:5;
}

/* Alturas / Responsivo del modal */
@media (max-height:680px){
  .modal{ align-items:flex-start; }
  .modal-card{ margin-top:16px; }
}

/* =======================================================================================
   ===== RESPONSIVE FINO =================================================================
   ======================================================================================= */
@media (max-width:1100px){
  .form-row{ grid-template-columns: 1fr; }
  .form-row.quick{ grid-template-columns: 1fr; }
  .form-row.reception{ grid-template-columns: 1fr; }
  .modal{ padding:12px; }
  .modal-body{ padding:16px; }
  .catalog-head{ grid-template-columns: 1fr; }
}
@media (max-width:900px){
  .pp-page .segmented{ padding:2px; }
  .pp-page .segmented .seg{ height:26px; padding:4px 8px; font-size:11.75px; }
  .pp-page .segmented .seg-badge{ min-width:16px; height:16px; font-size:10px; }
}

/* =======================================================================================
   ===== ACCESIBILIDAD Y UTILIDADES ======================================================
   ======================================================================================= */
button:focus-visible, input:focus-visible, select:focus-visible{ outline:2px solid var(--primary); outline-offset:2px; }
.spinner{ width:32px; height:32px; border:3px solid #f3f3f3; border-top:3px solid var(--primary); border-radius:50%; animation: spin 1s linear infinite; }
.spinner.small{ width:20px; height:20px; border-width:2px; }
@keyframes spin { 0%{ transform:rotate(0deg) } 100%{ transform:rotate(360deg) } }

/* === Acciones: mismo estilo que "Enviar" para todos menos Cancelar (.danger) === */
.pp-page .grid td .acts button.icon{
  min-width:36px; min-height:36px;
  border-radius:10px;
}

.pp-page .grid td .acts button.icon:not(.danger){
  background:#6b2f99;           /* morado igual al de "Realizar cotización" */
  color:#fff;
  box-shadow:0 3px 10px rgba(122,46,168,.22);
}

.pp-page .grid td .acts button.icon:not(.danger):hover{
  filter:brightness(.97);
  transform:translateY(-1px);
}

.pp-page .grid td .acts button.icon:not(.danger):disabled{
  background:#eee;
  color:#9aa0a6;
  box-shadow:none;
  transform:none;
  cursor:not-allowed;
}

.pp-page .grid td .acts button.icon .material-icons{
  font-size:20px; line-height:1;
}

/* Accesibilidad */
.pp-page .grid td .acts button.icon:not(.danger):focus-visible{
  outline:2px solid rgba(107,47,153,.30);
  outline-offset:2px;
}

/* ===== Detalle de la cotización — pulido y alineación exacta ===== */
.order-details{
  margin: 7px 0 0;            
  width: 100%;               
  max-width: 100%;
  box-sizing: border-box;     /* padding cuenta dentro del 100% */
  border: 1px solid #eee; 
  border-radius: 12px;
  background: linear-gradient(180deg,#fdfbff 0%, #ffffff 100%);
  box-shadow: 0 10px 24px rgba(16,18,28,.06);
  padding: 8px 14px 12px;
  overflow: hidden;
}


/* En móviles no sangrar para evitar scroll horizontal */
@media (max-width:600px){
  .order-details{ margin-left:0; margin-right:0; width:100%; }
}


.order-details > .sub{
  margin:0 0 8px; padding:8px 10px;
  background:linear-gradient(180deg,#ffffff 0%, #f6f1ff 100%);
  border:1px solid #eee; border-radius:9px;
  font-size:13px; font-weight:800; color:#312c3a;
}

/* Tabla alineada con headers */
.order-table{
  width:100%;
  min-width:920px;
  table-layout:fixed;           /* fija anchos según headers */
  border-collapse:separate;
  border-spacing:0;
  font-size:12.5px;
}
.order-table thead th{
  position:sticky; top:0; z-index:1;
  background:#faf8ff;           /* sutil lila como el resto */
  border-bottom:2px solid #eee;
  padding:6px 8px; font-weight:700; color:#494444;
}

/* Anchos y alineación por columna */
.order-table thead th:nth-child(1){ min-width:220px; text-align:left; }
.order-table thead th:nth-child(2){ min-width:160px; text-align:left; }
.order-table thead th:nth-child(3){ width:120px;  text-align:center; }
.order-table thead th:nth-child(4){ width:140px;  text-align:right; }
.order-table thead th:nth-child(5){ width:140px;  text-align:right; }
.order-table thead th:nth-child(6){ width:var(--acts-w); text-align:center; }

.order-table tbody td{
  padding:6px 8px; border-bottom:1px solid #f3f3f6; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; vertical-align:middle;
}
.order-table tbody td:nth-child(3){ text-align:center; }
.order-table tbody td:nth-child(4),
.order-table tbody td:nth-child(5){ text-align:right; }
.order-table tbody td:nth-child(6){ text-align:center; }

/* Input de cantidad dentro del detalle */
.order-table .qty-input{
  width:84px; height:28px;
  border:1px solid #e5e5e5; border-radius:7px;
  background:#fff; padding:0 8px; font-size:12.5px;
}

/* Botón eliminar (ya rojo) y consistencia de acciones */
.order-table .acts{
  display:flex; align-items:center; justify-content:center; gap:6px;
}
.order-table .acts .icon{
  min-width:36px; min-height:36px; border-radius:10px;
}
.order-table .acts .icon .material-icons{ font-size:20px; line-height:1; }

/* Vacío alineado bajo "Producto" */
.order-table .empty{
  display:flex; align-items:center; gap:10px;
  text-align:left; color:#6b6b6b; padding:12px 8px;
}
.order-table .empty .material-icons{ color:#b9a8e6; font-size:22px; }

/* ===== Totales (box a la derecha, bonito) ===== */
.totals{
  margin: 10px 16px 0 auto;   /* ← se corre ~16px a la izquierda */
  width: fit-content;
  display: grid;
  grid-template-columns: auto auto;
  gap: 8px 16px;
  align-items: center;
  padding: 10px 14px;
  background: linear-gradient(180deg,#ffffff 0%, #f6f1ff 100%);
  border: 1px solid #eee;
  border-radius: 10px;
  box-shadow: 0 8px 20px rgba(16,18,28,.06);
}


.totals > :nth-child(odd){               /* Subtotal:, Total: */
  text-align:right; 
  font-weight:700; 
  color:#312c3a; 
  white-space:nowrap;
}

.totals > :nth-child(even){              /* valores */
  text-align:right; 
  font-variant-numeric: tabular-nums;    /* columnas de números parejas */
  font-feature-settings: "tnum" 1;
}

.totals > :nth-last-child(2),
.totals > :last-child{                   /* separador encima del Total */
  border-top:1px dashed #e3d9f8;
  padding-top:6px; 
  margin-top:4px;
}

.total-strong{
  color:#6b2f99;                         /* acento morado */
  font-weight:800;
}

/* En pantallas pequeñas ocupa todo el ancho */
@media (max-width:480px){
  .totals{ grid-template-columns: 1fr auto; width:100%; }
}
