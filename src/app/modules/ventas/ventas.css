/* ==================== VENTAS - 2 columnas con header fijo ==================== */
:root{
  --topbar-h: 97px;
  --gap: 20px;
  --cart-w: 840px;
}

/* Página dentro del workspace-inner */
.ventas-page{
  display:flex; flex-direction:column;
  height:100%; min-height:0;
  background:url("/assets/bg-yarns.jpg") center/cover no-repeat fixed;
  position:relative;
}

/* ===== Sticky header (mismo layout, estilo compacto) ===== */
.ventas-page .sticky-header{
  position:sticky; top:0; z-index:6;
  transition:padding-right .25s ease;
  margin-top:calc(-5 * var(--header-pull));
  margin-bottom:20px;

  margin-left:0 !important;
  margin-right:auto !important;
  width:100%; max-width:300px;

  padding:10px var(--page-pad,24px) 12px;                /* compacto */
  background:rgba(255,255,255,0);
  -webkit-backdrop-filter:blur(6px); backdrop-filter:blur(6px);
  box-shadow:0 6px 18px rgba(15,23,42,0);
  border-radius:12px;                                     /* ↓ */
}

/* Título */
.ventas-page .head-title h1{
  margin:0;
  font-family:"Playfair Display", Georgia, serif; font-weight:700;
  font-size:clamp(24px,3.9vw,36px);                       /* compacto */
  line-height:1.05; letter-spacing:.2px; color:#333;
}

/* Fila acciones */
.ventas-page .head{ display:flex; align-items:center; gap:8px; flex-wrap:wrap; }
.actions{ display:flex; align-items:center; gap:6px; flex-wrap:wrap; }

/* ===== Buscador ===== */
.ventas-page .search{
  flex:1; display:flex; align-items:center; gap:6px;
  background:#fff; border:1px solid #ddd; border-radius:8px;
  padding:5px 10px; box-shadow:0 1px 4px rgba(0,0,0,.05);
  transition:.15s ease;
}
.ventas-page .search:focus-within{
  border-color:#7a2ea8; box-shadow:0 0 0 2px rgba(122,46,168,.10);
}
.ventas-page .search .material-icons{ font-size:15px; color:#777; }
.ventas-page .search input{
  flex:1; border:0; outline:0; background:transparent;
  font-size:12.5px; min-width:120px;
}

/* Botón limpiar (icono redondo) */
.ventas-page .actions > .icon{
  width:28px; height:28px; border-radius:999px; border:0;
  background:#f6f3f7; color:#6b2f99;
  display:inline-flex; align-items:center; justify-content:center;
  cursor:pointer; transition:.15s ease; box-shadow:0 1px 4px rgba(0,0,0,.06);
}
.ventas-page .actions > .icon:hover{ background:#ede8ef; transform:translateY(-1px); }
.ventas-page .actions > .icon .material-icons{ font-size:17px; line-height:1; }

/* ===== Grid contenido ===== */
.ventas-grid{
  flex:1; min-height:0; display:grid; grid-template-columns:1fr;
  gap:var(--gap); align-items:start; margin-top:var(--gap);
}
.ventas-page.has-cart .ventas-grid{ grid-template-columns:minmax(0,1fr) var(--cart-w); }

/* Productos */
.productos{ grid-column:1; min-height:0; overflow-y:auto; overflow-x:hidden; padding-right:4px; }

.cards{ display:grid; grid-template-columns:repeat(4, minmax(220px,1fr)); gap:12px; } /* gap compacto */
.ventas-page.has-cart .cards{ grid-template-columns:repeat(2, minmax(220px,1fr)); }

.card{
  background:#fff; border-radius:10px; overflow:hidden;
  border:1px solid #eee; box-shadow:0 3px 10px rgba(0,0,0,.08);
  display:flex; flex-direction:column; transition:.18s;
}
.card:hover{ box-shadow:0 6px 14px rgba(122,46,168,.16); transform:translateY(-2px); }
.card img{ width:100%; height:160px; object-fit:cover; background:#f5f5f5; }
.card .info{ padding:9px; display:flex; flex-direction:column; gap:5px; }
.card h4{ margin:0; font-size:13.5px; color:#333; font-weight:600; }
.meta{ font-size:12px; color:#666; }
.precio{ font-weight:700; color:#7a2ea8; font-size:13px; }

/* Botón de card (mantengo clase, aplico estilo primario) */
.btn-pink{
  height:28px; border:0; border-radius:8px;
  background:#7a2ea8; color:#fff; font-weight:700; cursor:pointer;
  transition:.15s ease;
}
.btn-pink:hover{ filter:brightness(.97); }

/* Vacío */
.empty{
  grid-column:1/-1; text-align:center; color:#8a8a8a; padding:24px 14px;
  display:flex; flex-direction:column; gap:8px; align-items:center;
}
.empty .material-icons{ font-size:44px; color:#d5d5d5; }

/* ===== Carrito ===== */
.carrito{
  width:540px !important;
  position:fixed; z-index:70; right:0; top:calc(var(--topbar-h,97px) + 0px);
  width:var(--cart-w,440px);
  height:calc(100vh - var(--topbar-h,97px) - 30px);
  background:#fff; border:1px solid #eee; box-shadow:0 12px 30px rgba(0,0,0,.16);
  padding:10px; display:flex; flex-direction:column; gap:8px; border-radius:10px;
}
.carrito h2{
  font-family:"Playfair Display", Georgia, serif; font-size:22px; font-weight:700; color:#333; margin:0 0 6px;
}

/* Encabezados/filas del carrito */
.cart-cols{
  display:grid; grid-template-columns:110px 140px 100px 90px 20px; gap:10px;
  padding:8px 10px; border:1px solid #f0f0f3; background:#faf7ff;
  border-radius:8px; font-weight:700; color:#444; font-size:12.5px;
}
.cart-list{ flex:1; min-height:0; overflow-y:auto; }

.row{
  display:grid; grid-template-columns:130px 130px 90px 105px 40px; align-items:center; gap:8px;
  padding:8px 10px; border-radius:8px; background:#fff; border:1px solid #f0f0f3;
}
.col.qty{ display:flex; align-items:center; gap:6px; justify-self:center; }
.col.qty input{
  width:40px; height:30px; text-align:center; border:1px solid #ddd; border-radius:8px; font-size:12.5px;
}
.col.unit,.col.sub{ font-size:12.5px; font-weight:700; color:#333; }

/* Chips acciones dentro del carrito */
.chip{
  border:0; border-radius:8px; padding:4px 8px; background:#7a2ea8; color:#fff; cursor:pointer; font-size:12px; transition:.15s ease;
}
.chip:hover{ filter:brightness(.97); transform:translateY(-1px); }
.chip.danger{ background:#f44336; }

/* Total + acciones */
.total{
  background:#efe9ff; border:1px solid #d9caff; border-radius:10px;
  padding:10px 12px; display:flex; justify-content:space-between; align-items:center;
}
.actions-bottom{ display:flex; gap:8px; padding-top:8px; border-top:1px solid #eee; }
.btn-pink.big{ flex:1; border-radius:10px; font-size:13.5px; height:32px; }
.btn-danger{
  padding:6px 10px; border-radius:10px; border:1px solid #f44336;
  background:#fff; color:#f44336; font-weight:700; cursor:pointer; transition:.15s ease;
}
.btn-danger:hover{ background:#f44336; color:#fff; }

/* ===== Responsive ===== */
@media (max-width:1400px){
  .cards{ grid-template-columns:repeat(3, minmax(200px,1fr)); }
  .ventas-page.has-cart .cards{ grid-template-columns:repeat(2, minmax(200px,1fr)); }
}
@media (max-width:1100px){
  :root{ --cart-w:380px; }
  .cart-cols, .row{ grid-template-columns:1fr 100px 100px 110px 60px; font-size:12px; }
}
@media (max-width:840px){
  .ventas-grid{ grid-template-columns:1fr; }
  .carrito{ position:static; width:100%; height:auto; }
  .ventas-page.has-cart .productos{ display:none; }
}
@media (max-width:640px){
  .ventas-page .sticky-header{
    padding:8px calc(var(--page-pad,16px)) 10px;
    margin-left:calc(-1 * var(--page-pad,16px));
    margin-right:calc(-1 * var(--page-pad,16px));
  }
  .cards{ grid-template-columns:1fr; }
}

/* Accesibilidad */
button:focus-visible, input:focus-visible, select:focus-visible{
  outline:2px solid #7a2ea8; outline-offset:2px;
}

/* Deja aire cuando hay carrito */
.ventas-page.has-cart .productos{ margin-right:calc(var(--cart-w,440px) + var(--gap,100px)); }
.ventas-page.has-cart .sticky-header{ padding-right:calc(var(--page-pad,24px) + var(--cart-w,440px) + var(--gap,20px)); }

/* ===== Modal de cobro (compacto alineado al resto) ===== */
.modal-backdrop{
  position:fixed; inset:0; background:rgba(15,23,42,.45);
  -webkit-backdrop-filter:blur(2px); backdrop-filter:blur(2px); z-index:2000;
}
.modal{
  position:fixed; top:50%; left:50%; transform:translate(-50%,-50%);
  width:min(520px,92vw); max-height:88vh; background:#fff; border-radius:10px;
  border:1px solid #ececec; box-shadow:0 20px 50px rgba(0,0,0,.22);
  display:flex; flex-direction:column; z-index:2001; overflow:hidden;
}
.modal-header{
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 12px; border-bottom:1px solid #f0f0f0;
}
.modal-header h3{ margin:0; font-size:15px; font-weight:700; }
.modal-body{ padding:10px 12px; overflow:auto; display:flex; flex-direction:column; gap:10px; }
.modal-footer{ display:flex; gap:8px; justify-content:flex-end; padding:10px 12px; border-top:1px solid #f0f0f0; }

.form-row{ display:grid; grid-template-columns:130px 1fr; gap:8px; align-items:center; }
.form-row label{ font-weight:700; color:#444; font-size:12.5px; }
.form-row input, .form-row select{
  height:30px; border:1px solid #e5e5ea; border-radius:8px; padding:0 8px; outline:0; font-size:12.5px;
}
.form-row input:focus, .form-row select:focus{
  border-color:#7a2ea8; box-shadow:0 0 0 2px rgba(122,46,168,.10);
}

/* Autocomplete */
.ac-wrapper{ position:relative; }
.ac-list{
  position:absolute; z-index:2002; left:0; right:0; top:100%;
  background:#fff; border:1px solid #eee; border-radius:8px; margin-top:4px;
  max-height:220px; overflow:auto; box-shadow:0 8px 22px rgba(0,0,0,.12);
}
.ac-list li{ padding:8px 10px; cursor:pointer; font-size:12.5px; }
.ac-list li:hover{ background:#faf5ff; }
