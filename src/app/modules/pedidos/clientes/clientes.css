/* ===== Fondo general (ultra-compact + ~10-12% size) ===== */
.page{
  display:flex; flex-direction:column; gap:9px; padding:13px;
  background:url("/assets/bg-yarns.jpg") center/cover no-repeat fixed;
  min-height:calc(100vh - var(--topbar-h,97px));
}
.page::before{
  content:""; position:fixed; top:var(--topbar-h,97px); left:var(--side-w,280px); right:0; bottom:0;
  background:rgba(255,255,255,.85); z-index:-1;
}
:host-context(.sidebar-collapsed) .page::before{ left:var(--side-w-collapsed,92px); }

/* ===== Utilidades ===== */
.strong{ font-weight:700; }
.mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
.text-right{ text-align:right; }
.nowrap{ white-space:nowrap; }
.one-line{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.sub{ color:#707070; }

/* ===== Título ===== */
.head-title{ margin-bottom:8px; }
.head-title h1{
  font-family:"Playfair Display", Georgia, serif; font-weight:700;
  font-size:clamp(24px,3.9vw,36px);
  line-height:1.05; margin:2px 0; color:#333; letter-spacing:.2px;
}

/* ===== Barra superior (head) ===== */
.head,
.toolbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:8px;
  flex-wrap:nowrap;        /* evita que salten abajo */
  width:100%;
  margin-bottom:6px;
}
.actions{
  margin-left:auto;        /* empuja a la derecha */
  display:flex;
  align-items:center;
  gap:6px;
  flex-wrap:nowrap;
  white-space:nowrap;
}
.actions > *{ flex:0 0 auto; }

/* ===== Buscador ===== */
.search{
  display:flex; align-items:center; gap:6px;
  background:#fff; border:1px solid #ddd; border-radius:8px;
  padding:5px 10px;
  flex:1 1 360px;
  width:auto;
  max-width:640px;
  min-width:240px;
  box-shadow:0 1px 4px rgba(0,0,0,.05);
    height: 28px;

}
.search:focus-within{ border-color:#7a2ea8; box-shadow:0 0 0 2px rgba(122,46,168,.10); }
.search input{ border:0; outline:0; background:transparent; width:100%; font-size:12.5px; min-width:120px; }
.search .material-icons{ font-size:15px; color:#777; }
.filter{
  height:30px;
  border-radius:8px;
  border:1px solid #e5e5e5;
  background:#fff; padding:0 9px; outline:none; font-size:12.5px;
}

/* ===== Botones ===== */
button.primary,button.ghost{
  display:inline-flex; align-items:center; gap:7px; padding:5px 10px; height:39px;
  border-radius:8px; font-size:12px; font-weight:600; cursor:pointer; transition:.15s ease;
}
button.primary{ border:0; background:#7a2ea8; color:#fff; box-shadow:0 3px 7px rgba(122,46,168,.14); }
button.primary:hover{ filter:brightness(.97); }
button.ghost{ background:#fff; border:1px solid #ddd; color:#333; }
button.ghost:hover{ background:#f7f7f7; }
button.primary.danger{ background:#b0004b; }

/* Botón icono */
button.icon{
  border:0; background:#f6f3f7; color:#6b2f99; border-radius:7px;
  padding:3px; cursor:pointer; display:inline-flex; align-items:center; justify-content:center; transition:.15s ease;
  min-width:24px; min-height:24px;
}
button.icon:hover{ background:#ede8ef; transform:translateY(-1px); }
button.icon.devol{ background:#ffe9f3; color:#b0004b; }
button.icon.devol:hover{ background:#ffd9ec; }
button.icon.mini{ min-width:22px; min-height:22px; padding:2px; }
button.icon .material-icons{ font-size:17px; }

/* ===== SEGMENTED: Activos / Entregados ===== */
.segmented{
  display:inline-flex; align-items:center; gap:0;
  padding:3px; border:1px solid #ddd; border-radius:10px;
  background:#fff; box-shadow:0 1px 4px rgba(0,0,0,.05);
  flex:0 1 auto; 
    height: 33px;

}
.segmented .seg{
  appearance:none; border:0; background:transparent;
  display:inline-flex; align-items:center; gap:6px;
  padding:5px 10px; height:30px; border-radius:8px;
  font-size:12px; font-weight:600; color:#333; cursor:pointer; transition:.15s ease;
}
.segmented .seg:hover{ background:#f7f2ff; }
.segmented .seg.active{
  background:#7a2ea8; color:#fff;
  box-shadow:0 2px 8px rgba(122,46,168,.18) inset, 0 2px 8px rgba(122,46,168,.12);
}
.segmented .seg:focus-visible{
  outline:2px solid transparent; box-shadow:0 0 0 2px rgba(122,46,168,.28);
}
.segmented .seg-badge{
  display:inline-flex; align-items:center; justify-content:center;
  min-width:18px; height:18px; padding:0 6px;
  border-radius:999px; font-size:10.5px; font-weight:700;
  background:#efe9ff; color:#5b38d5; border:1px solid #dbc8ff;
  line-height:1;
}
.segmented .seg.active .seg-badge{
  background:#fff; color:#7a2ea8; border-color:transparent;
}

/* ===== Tarjeta / Tabla ===== */
.card{
  background:#fff;
  border:1px solid #eee;
  border-radius:10px;
  padding:8px;
  box-shadow:0 5px 12px rgba(0,0,0,.045);
  position:relative;
  overflow:hidden;
}
.card::before{
  content:"";
  position:absolute; top:0; bottom:0; left:-1px;
  width:5px; background:#7419ad; opacity:.95; pointer-events:none;
}
.table-wrapper{ overflow:auto; }

table.grid{ width:100%; border-collapse:separate; border-spacing:0; table-layout:auto; font-size:12.5px; }
.grid thead th{
  text-align:left; font-weight:700; font-size:12px;
  color:#555; padding:6px 8px;
  border-bottom:2px solid #eee; background:#fafafa;
  position:sticky; top:0; z-index:1;
}
.grid tbody td{ padding:6px 8px; border-bottom:1px solid #f3f3f6; white-space:nowrap; vertical-align:middle; }
.grid tbody tr:hover{ background:#fbf7ff; }

/* (Opcional) resaltar filas finalizadas si el <tr> tiene .finalizado */
.grid tbody tr.finalizado{ opacity:.78; }
.grid tbody tr.finalizado:hover{ background:#f7f7f7; }

.grid.small thead th,.grid.small tbody td{ padding:4px 6px; font-size:12px; }

/* Columnas compactas (listado principal) */
.grid thead th:nth-child(1){ width:48px; }
.grid thead th:nth-child(2){ width:170px; }
.grid thead th:nth-child(3){ min-width:240px; }
.grid thead th:nth-child(4){ width:110px; }
.grid thead th:nth-child(5){ width:90px; }
.grid thead th:nth-child(6){ width:90px; text-align:right; }
.grid thead th:nth-child(7){ width:168px; text-align:center; }
.grid tbody td:nth-child(6){ text-align:right; }
th.actions-col{ text-align:center; }
td.actions-cell, .acts{ display:flex; justify-content:center; align-items:center; gap:6px; min-width:168px; }

/* Imagen en lista */
.img-cell{ width:40px; text-align:center; }
.img-cell img{ width:30px; height:30px; object-fit:cover; border-radius:6px; border:1px solid #ccc; }
.line-thumb{ width:34px; height:34px; object-fit:cover; border-radius:6px; border:1px solid #e5e5e5; }

/* Tag */
.tag{ display:inline-block; padding:2px 5px; border-radius:7px; font-size:10.5px; background:#f4f0ff; color:#6b2f99; margin-top:2px; }
.tag-stock{ background:#eef7ee; color:#256c2f; border:1px solid #d7ecd7; }

/* ===== Pills ===== */
.pill{
  display:inline-flex; align-items:center; gap:5px; padding:3px 7px;
  border-radius:999px; font-size:11px; border:1px solid #e5e5e5; background:#fff;
}
.pill .dot{ width:6px; height:6px; border-radius:50%; background:#bbb; }
.pill.borrador   { color:#455a64; background:#eceff1; border-color:#dde3e6; }
.pill.confirmado { color:#1565c0; background:#e3f2fd; border-color:#c5e1f9; }
.pill.preparacion{ color:#6a1b9a; background:#f3e5f5; border-color:#e4c9ea; }
.pill.listo      { color:#2e7d32; background:#e8f5e9; border-color:#cdebd2; }
.pill.entregado  { color:#1b5e20; background:#e7f4e8; border-color:#c9e6cc; }
.pill.cancelado  { color:#c62828; background:#fdecea; border-color:#f5d0ce; }

/* Pills de rol/estado (compactas) */
.role-pill{
  background:#f1ecf7; color:#6b2f99; padding:3px 7px; border-radius:999px; font-size:11.25px; font-weight:700;
}
.state-pill{ padding:4px 8px; border-radius:999px; font-size:11.25px; font-weight:600; border:1px solid transparent; }
.state-pill.activo{ background:#eaf7ef; color:#2e7d32; border-color:#cdecd6; }
.state-pill.inactivo{ background:#f7f7f7; color:#666; border-color:#eee; }
.state-pill.suspendido{ background:#fde9eb; color:#b4232b; border-color:#f6c7cd; }

/* Cuenta (ok/low) */
.pill.ok { color:#1b5e20; background:#e7f6ec; border-color:#cdebd7; }
.pill.ok .dot{ background:#2e7d32; }
.pill.low{ color:#a05a00; background:#fff4e0; border-color:#ffd9a8; }
.pill.low .dot{ background:#f5a000; }
.pill .dot.warn { background:#e0912e; }

/* Vacíos */
.empty{ text-align:center; color:#8a8a8a; padding:14px; display:flex; flex-direction:column; gap:6px; align-items:center; }
.empty .material-icons{ font-size:23px; color:#ccc; }

/* ===== Filtros avanzados (compactados) ===== */
.filters-adv{
  background:#fff; border:1px solid #eee; border-radius:10px;
  padding:9px; margin:6px 0 10px;
}
.filters-grid{ display:grid; gap:7px; grid-template-columns: repeat(5, 1fr); }
.filters-grid label{ display:flex; flex-direction:column; gap:3px; font-size:11.5px; color:#555; }
.filters-grid input{
  height:30px; border-radius:8px;
  border:1px solid #e5e5e5; padding:0 8px; outline:none; font-size:12.5px;
}

/* ===== MODALES ===== */
.modal{
  position:fixed; top:var(--topbar-h,97px); left:var(--side-w,280px); right:0; bottom:0;
  display:flex; align-items:flex-start; justify-content:center;
  padding:28px 12px 12px;
  background:rgba(40,40,40,.35); -webkit-backdrop-filter:blur(2px); backdrop-filter:blur(2px);
  z-index:1000; overflow-y:auto;
}
:host-context(.sidebar-collapsed) .modal{ left:var(--side-w-collapsed,92px); }
.modal *{ box-sizing:border-box; }

.modal.choice-modal{ padding-top:52px; }
.modal.full-modal  { padding-top:20px; }

.modal-card{
  background:#fff; border-radius:10px; 
  box-shadow:0 10px 28px rgba(0,0,0,.2);
  width:100%; max-width:980px; display:flex; flex-direction:column; overflow:hidden; animation:fadeSlide .2s ease;
  max-height: calc(100vh - 56px);
}
.modal-card.small{ max-width:460px; }
.modal-card.large{ max-width:1080px; }
.modal-card.xlarge{ max-width:1180px; }

.modal-head{
  display:flex; align-items:center; justify-content:space-between;
  padding:8px 10px; border-bottom:1px solid #eee; background:#fcfbfe;
  position:sticky; top:0; z-index:2;
}
.modal-title-wrap{ display:flex; align-items:center; gap:6px; }
.modal-title-wrap h2{ font-size:15px; font-weight:700; color:#222; }
.modal-dot{ width:6px; height:6px; border-radius:50%; background:#7a2ea8; }
.modal-body{ padding:10px; }
.modal-foot{
  display:flex; justify-content:flex-end; gap:6px;
  padding:7px 10px; border-top:1px solid #eee; background:#fcfbfe; position:sticky; bottom:0; z-index:2;
}

.details-list { margin:4px 0 0 0; padding-left: 16px; }
.details-list li { line-height:1.32; margin:2px 0; }

/* ===== Cabecera de detalle ===== */
.detail-header{
  display:flex; gap:10px; align-items:center; background:#faf7ff; border:1px solid #eee;
  border-radius:10px; padding:9px;
}
.detail-header .avatar{
  width:38px; height:38px;
  border-radius:50%; display:flex; align-items:center; justify-content:center;
  background:#fff; border:1px solid #eee; font-weight:700; color:#6b2f99;
}
.detail-header .info{ flex:1 1 auto; }
.detail-header .title-row{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
.detail-header h3{ margin:0; font-size:15px; }

/* ===== Layout dos columnas en “Personalizado” ===== */
.two-col{ display:grid; grid-template-columns:.94fr 1.06fr; gap:10px; }
.section-title{ margin:2px 0 5px; font-size:12.5px; font-weight:700; color:#333; }

/* ===== Formularios ===== */
.form-row{
  display:grid; grid-template-columns:120px 1fr; align-items:center; gap:6px; margin:5px 0;
}
.form-row>span{ color:#333; font-size:12px; font-weight:600; }
.form-row input,.form-row select{
  width:100%; height:30px; line-height:30px; padding:0 8px;
  border:1px solid #ddd; border-radius:7px;
  background:#fff; font-size:12.5px; outline:0; transition:.12s ease;
}
.form-row input:focus,.form-row select:focus{
  border-color:#7a2ea8; box-shadow:0 0 0 2px rgba(122,46,168,.1);
}

.checkbox-wrap{ display:inline-flex; align-items:center; gap:7px; }

.picked{ display:flex; gap:6px; align-items:center; }
.suggestions{ max-height:140px; overflow:auto; padding:6px; margin-bottom:6px; }
.suggestion-row{ padding:6px; border-bottom:1px solid #eee; cursor:pointer; }
.suggestion-row:last-child{ border-bottom:0; }
.hint{ margin-top:6px; }

/* Lista derecha (Personalizado) */
.list-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:6px; }

/* Inputs de tabla en modal personalizado */
.grid.small input { height:26px; padding:0 6px; font-size:12px; }

/* ======= Catálogo y filtro por categoría ======= */
.thumb { width:34px; height:34px; object-fit: cover; border-radius:6px; border:1px solid #e5e5e5; }

/* etiqueta de categoría */
.tag { display:inline-block; margin-top:2px; font-size:10.5px; padding:2px 5px; border-radius:7px; background:#f3f4f7; color:#556; }

/* Chips */
.chip{
  appearance:none; border:1px solid #ddd; background:#fafafa; border-radius:999px;
  padding:4px 8px; font-size:12px; cursor:pointer;
}
.chip.active { background:#efe9ff; border-color:#c9b8ff; color:#5b38d5; font-weight:600; }
.chip-count{ margin-left:6px; padding:2px 5px; border-radius:7px; background:#f0f1f6; font-size:10.5px; }

.cat-filter-wrap{ position:relative; }
.cat-filter-btn{ display:inline-flex; align-items:center; gap:7px; min-width:132px; }
.cat-filter-btn .caret{ font-size:16px; opacity:.8; }

.cat-popover{
  position:absolute; top:calc(100% + 6px); right:0;
  width:min(460px, 86vw);
  background:#fff; border:1px solid #e6e6ef; border-radius:10px;
  box-shadow:0 12px 30px rgba(16,18,28,.16);
  padding:8px 9px 10px; z-index:20; animation:fadeSlide .16s ease;
}
.cat-popover-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:7px; padding:0 2px; }
.cat-popover-head strong{ font-size:12.5px; color:#333; }
.cat-popover-head .linklike{ background:none; border:0; color:#6b2f99; cursor:pointer; font-size:12px; text-decoration:underline; }

.cat-popover-grid{
  display:grid; grid-template-columns:repeat(3, minmax(104px,1fr));
  gap:7px; max-height:196px; overflow:auto; padding:3px;
}

/* Selección activa (pill visible) */
.active-cat{ display:flex; align-items:center; gap:7px; margin:4px 0 6px; }
button.icon.mini .material-icons{ font-size:16px; }

/* ===== Botones del modal "Crear Pedido" ===== */
.choice-grid{ display:flex; gap:9px; flex-wrap:wrap; padding:6px 8px 2px; }
.choice-grid .choice-btn{ flex:1 1 220px; min-width:220px; }

.choice-btn{
  appearance:none; display:inline-flex; align-items:center; justify-content:center; gap:9px;
  height:34px; padding:0 13px; border-radius:9px;
  border:1px solid #dcd6ef;
  background:linear-gradient(180deg,#ffffff 0%, #f8f6ff 100%);
  color:#2d2450; font-size:13px; font-weight:600; cursor:pointer;
  box-shadow:0 1px 6px rgba(40,24,80,.06);
  transition:transform .12s ease, box-shadow .12s ease, background .18s ease, border-color .18s ease;
}
.choice-btn .material-icons{ font-size:17px; opacity:.9; }
.choice-btn:hover{
  background:linear-gradient(180deg,#ffffff 0%, #f1edff 100%); border-color:#c9bff6;
  box-shadow:0 2px 10px rgba(40,24,80,.10); transform:translateY(-1px);
}
.choice-btn:active{ transform:translateY(0); box-shadow:0 1px 6px rgba(40,24,80,.08) inset; }
.choice-btn:focus-visible{ outline:2px solid transparent; box-shadow:0 0 0 2px rgba(122,46,168,.28); }
.choice-btn.alt{
  border-color:#cfe4d2; background:linear-gradient(180deg,#ffffff 0%, #f3fbf5 100%); color:#1f3b26;
}
.choice-btn.alt:hover{
  border-color:#b8dec0; background:linear-gradient(180deg,#ffffff 0%, #e9f8ee 100%);
  box-shadow:0 2px 10px rgba(22,96,54,.08);
}

/* Animación */
@keyframes fadeSlide{ from{opacity:0; transform:translateY(6px);} to{opacity:1; transform:translateY(0);} }

/* ===== Paginación ===== */
.pager{ display:flex; align-items:center; gap:9px; padding:9px; justify-content:flex-end; }
button.ghost:disabled{ opacity:.6; cursor:not-allowed; }

/* ===== Responsive ===== */
@media (max-width:1200px){
  .modal-card.xlarge{ max-width:96vw; }
  .modal-card.large{ max-width:96vw; }
}

@media (max-width:1024px){
  .two-col{ grid-template-columns:1fr; }
}

@media (max-width:900px){
  .head,
  .toolbar{ flex-wrap:nowrap; }

  .search{
    flex:1 1 260px;
    min-width:190px;
    max-width:none;
  }

  .actions{
    margin-left:auto;
    flex-wrap:nowrap;
    white-space:nowrap;
  }

  /* Segmented se compacta un poco en móviles */
  .segmented{ padding:2px; }
  .segmented .seg{ height:26px; padding:4px 8px; font-size:11.75px; }
  .segmented .seg-badge{ min-width:16px; height:16px; font-size:10px; }

  .grid thead{ display:none; }
  .grid tbody tr{ display:grid; grid-template-columns:1fr 1fr; gap:6px; border-bottom:1px solid #eee; padding:8px 0; }
  .grid tbody td{ border:0; padding:4px 7px; white-space:normal; }
  .img-cell{ grid-column:span 2; text-align:center; }

  .modal{ padding-top:44px; }
  .modal-card{ max-width:95vw; }

  .form-row{ grid-template-columns:1fr; }

  .cat-popover{ right:auto; left:0; width:96vw; }
  .cat-popover-grid{ grid-template-columns:repeat(2, minmax(104px,1fr)); }
}

/* Ajuste de color para botón devolución en tabla */
.actions-cell button.icon.devol { background:#ffe9ee; border-color:#ffc2d0; }

/* ====== Detalle del pedido (ligero +5% extra sobre tus tamaños locales) ====== */
.detail-modal { max-width:1120px; font-size:15.75px; }
.detail-card{ background:linear-gradient(180deg,#fbf8ff 0,#fff 100%); border:1px solid #eee; border-radius:10px; padding:10px; margin-bottom:10px; }
.detail-top{ display:flex; align-items:flex-start; gap:10px; }
.detail-top .avatar{ width:44px; height:44px; border-radius:50%; background:#efe7ff; color:#5a35a7; display:flex; align-items:center; justify-content:center; font-weight:700; font-size:16px; }
.top-main{ flex:1; min-width:0; }
.name-row{ display:flex; align-items:center; gap:8px; flex-wrap:wrap; }
.client-name{ margin:0; font-size:19px; font-weight:700; color:#222; }

.kv-grid{ margin-top:6px; display:grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap:6px; }
.kv{ background:#fff; border:1px solid #eee; border-radius:8px; padding:11px 13px; display:flex; align-items:baseline; justify-content:space-between; }
.kv-k{ color:#666; font-size:13px; }
.kv-v{ font-variant-numeric: tabular-nums; font-size:17px; }
.kv-v.strong{ font-size:18.4px; font-weight:700; }

.detail-columns{ margin-top:8px; }
.detail-columns .left{ padding-right:6px; }
.detail-columns .right{ padding-left:6px; }

.line-thumb{ width:50px; height:50px; object-fit:cover; border-radius:8px; border:1px solid #e5e5e5; }

.detail-table{ font-size:14.75px;  }
.detail-table thead th{ font-size:14px; padding:10px 12px; }
.detail-table tbody td{ padding:10px 12px; }
.detail-table th:first-child, .detail-table td:first-child { width:90px; }
.detail-table thead th.text-right{ text-align:right; }
.detail-table td:nth-child(3), .detail-table td:nth-child(4), .detail-table td:nth-child(5), .detail-table td:nth-child(6){ text-align:right !important; font-variant-numeric: tabular-nums; }

/* ===== Estados deshabilitados ===== */
button.icon:not([disabled]):hover { background:#ede8ef; transform:translateY(-1px); }
button.icon[disabled]{ background:#f0f0f3; color:#9aa0a6; border-color:#e6e6e6; opacity:.75; cursor:not-allowed; transform:none; }
button.icon[disabled] .material-icons{ opacity:.8; }
button.icon.devol[disabled]{ background:#f6e6ee; color:#baa0ad; }
button.primary[disabled]{ background:#cbb6e2; color:#fff; opacity:.8; cursor:not-allowed; }
button.ghost[disabled]{ background:#f6f6f6; color:#9aa0a6; border-color:#e6e6e6; cursor:not-allowed; }
button.primary[disabled]:hover, button.ghost[disabled]:hover, button.icon[disabled]:hover{ transform:none; }

/* ===== DETALLE: quitar scroll y compactar ===== */
.detail-columns .right .table-wrapper{
  overflow-x: visible;    /* sin scroll */
  overflow-y: visible;
  max-width: 100%;
}
.detail-modal.compact .detail-table{
  min-width: 0;           /* anula cualquier min-width previo */
  width: 100%;
  table-layout: fixed;    /* columnas calculadas por porcentaje, permiten wrap */
  font-size: 12.25px;     /* ↓ tamaño base de la tabla */
}
.detail-modal.compact .detail-table thead th{
  padding: 6px 8px;
  font-size: 12px;
}
.detail-modal.compact .detail-table tbody td{
  padding: 6px 8px;
}
.detail-modal.compact .detail-table th:first-child,
.detail-modal.compact .detail-table td:first-child{
  width: 56px;
}
.detail-modal.compact .detail-table td:nth-child(2) .strong,
.detail-modal.compact .detail-table td:nth-child(2) small{
  white-space: normal;
  overflow: visible;
  text-overflow: clip;
  line-height: 1.25;
  word-break: break-word;
}
.detail-modal.compact .detail-table td.text-right.mono,
.detail-modal.compact .detail-table td.mono{
  font-size: 12px;
}
.detail-modal.compact .line-thumb{ width: 40px; height: 40px; }
.detail-modal.compact .detail-top .avatar{ width: 36px; height: 36px; font-size: 14px; }
.detail-modal.compact .kv{ padding: 8px 10px; }
.detail-modal.compact .kv-k{ font-size: 12px; }
.detail-modal.compact .kv-v{ font-size: 15px; }
.detail-modal.compact .kv-v.strong{ font-size: 16px; }
.detail-modal.compact .client-name{ font-size: 16px; }
.detail-modal.compact .pill,
.detail-modal.compact .chip{ transform: scale(.92); transform-origin: left center; }
.detail-columns .left,
.detail-columns .right{ min-width: 0; }
.modal-card.large,
.modal-card.xlarge,
.detail-modal{
  max-width: calc(100vw - var(--side-w, 280px) - 24px);
}
:host-context(.sidebar-collapsed) .modal-card.large,
:host-context(.sidebar-collapsed) .modal-card.xlarge,
:host-context(.sidebar-collapsed) .detail-modal{
  max-width: calc(100vw - var(--side-w-collapsed, 92px) - 24px);
}
